{% extends 'customer_base.html' %}
{% load static %}
{% block content %}
<div class="containter-fluid p-0" style="margin:-11px; margin-top:-31px">
    <h3 class="p-2 px-4 mt-4">Transaction & History</h3>
    <div class="table-responsive mt-2 mb-4 px-4">
        <table class="table table-striped table-md">
          <thead>
            <tr>
              <th scope="col">Transaction ID</th>
              <th scope="col">Payment To</th>
              <th scope="col">Payment From</th>
              <th scope="col">Amount</th>
              <th scope="col">Date</th>
              <th scope="col">Payment Status</th>
            </tr>
          </thead>
          <tbody>
              {% for order in transaction %}
              <tr class="customer">
                  <td>{{order.payment_id}}</td>
                  <td><strong>{{order.payment_to.mess_name|title}}</strong></td>
                  <td class="text-primary">{{order.payment_from.full_name}}</td>
                  <td>{{order.amount}}</td>
                  <td><span style="font-weight:600">{{order.date|date}}</span></td>
                  <td><span class="text-light p-1" {% if order.status == "FAILED" %} 
                      style="background:#b4c913; font-weight: 600;"
                      {% elif order.status == "SUCCESS" %} style="background:rgb(10, 194, 10);"
                      {% else %} style="background:#ff1b1bc2;" {% endif %}>
                    {{order.get_status_display}}</span></td>
              </tr>
              {% endfor %}
          </tbody>
        </table>
      </div>
</div>
{% endblock %}
